

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The ka9q-radio [hardware] section &mdash; wsprdaemon 3.3.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=9ac01507"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            wsprdaemon
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Description</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../description/history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../description/collaborations.html">Collaborations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../description/how_it_works.html">How wsprdaemon Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../description/validity.html">Validity of data path and results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Requirements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../requirements/os.html">Operating Sytems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../requirements/radios.html">Compatible Radios</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../requirements/network.html">Networking</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../network/basics.html">Basic Network Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../network/multicast.html">Multicast Requirements</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation/preparation.html">Preparing for installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/git.html">Getting the software with GIT</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../wd_conf.html">Configuring wsprdaemon: wsprdaemon.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../radiod_conf.html">Configuring ka9q-radio: radiod&#64;.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ka9q-web.html">ka9q-web</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Working Results</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../results/wspr.html">WSPR spots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../results/grape.html">HamSCI WWV/H and CHU Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../results/psk.html">PSKReporter</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Maintenance &amp; Updates</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../maintenance/operating.html">Operating wsprdaemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintenance/monitoring.html">Monitoring wsprdaemon operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintenance/aliases.html">Aliases for monitoring and interacting with wsprdaemon</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Troubleshooting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/overview.html">Troubleshooting wsprdaemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/typicals.html">Some typical problems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../FAQ.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">External Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../external_links.html">External Links</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributors.html">Contributors</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">wsprdaemon</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">The ka9q-radio [hardware] section</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/configuration/radiod@.conf/hardware.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="the-ka9q-radio-hardware-section">
<h1>The ka9q-radio [hardware] section<a class="headerlink" href="#the-ka9q-radio-hardware-section" title="Link to this heading"></a></h1>
<p>A typical configuration of this section for wsprdaemon use follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">rx888</span><span class="p">]</span>
<span class="n">device</span> <span class="o">=</span> <span class="s2">&quot;rx888&quot;</span> <span class="c1"># required so it won&#39;t be seen as a demod section</span>
<span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;rx888 wsprdaemon&quot;</span> <span class="c1"># good to put callsign and antenna description in here</span>
<span class="c1">#gain = 20 # dB</span>
<span class="c1"># rest are defaults</span>
<span class="c1">#description = &quot;rx888&quot;</span>
<span class="c1">#number = 0</span>
<span class="c1">#samprate = 129600000     # Hz</span>
<span class="n">samprate</span> <span class="o">=</span>   <span class="mi">64800000</span>     <span class="c1"># 128 Msps will eventual burn out the stock RX888 Mk II, and this 64 Msps frees much CPU on older CPUs</span>
<span class="c1">#calibrate = 0            # 1e-6 is +1 ppm</span>
<span class="c1">#firmware = SDDC_FX3.img</span>
<span class="c1">#queuedepth = 16          # buffers in USB queue</span>
<span class="c1">#reqsize = 32             # size of each USB buffer in 16KB units</span>
<span class="c1">#dither = no              # built-in A/D dither</span>
<span class="c1">#rand = no                # Randomize A/D output bits to spread digital-&gt;analog crosstalk</span>
<span class="c1">#att = 0                  # PE4312 digital attenuator, 0-31.5 dB in 0.5 dB steps</span>
<span class="c1">#gainmode = high          # AD8370 VGA gain mode</span>
<span class="c1">#gain = 1.5               # AD8370 VGA gain, -25 to +17 dB (low gain mode) or -8 to +34 dB (high gain mode)</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/ka9q/ka9q-radio/tree/main/docs">Phil Karn’s comprehensive documentation</a> of this section:</p>
<section id="hardware-configuration">
<h2>Hardware Configuration<a class="headerlink" href="#hardware-configuration" title="Link to this heading"></a></h2>
<hr class="docutils" />
<p>This document describes the hardware definition section in a <em>radiod</em>
config file.  The section name must match the <strong>hardware</strong> entry in
the [global] section, e.g.,</p>
<p>[global]<br />
hardware = airspy<br />
…</p>
<p>[airspy]<br />
device = airspy<br />
description = “airspy on 2m antenna”</p>
<p>In this example the name of the hardware definition section matches
the device type, but this is not required.</p>
<section id="supported-hardware">
<h3>Supported Hardware<a class="headerlink" href="#supported-hardware" title="Link to this heading"></a></h3>
<hr class="docutils" />
<p>Six SDR front ends are currently supported in <em>ka9q-radio</em>:</p>
<p><a class="reference external" href="https://github.com/ka9q/ka9q-radio/tree/main/docs/airspy.md">airspy</a> - Airspy R2, Airspy Mini<br />
<a class="reference external" href="https://github.com/ka9q/ka9q-radio/tree/main/docs/airspy.md">airspyhf</a> - Airspy HF+<br />
<a class="reference external" href="https://github.com/ka9q/ka9q-radio/tree/main/docs/funcube.md">funcube</a> - AMSAT UK Funcube Pro+ dongle<br />
<a class="reference external" href="https://github.com/ka9q/ka9q-radio/tree/main/docs/rx888.md">rx888</a> - RX888 Mkii (direct conversion only)<br />
<a class="reference external" href="https://github.com/ka9q/ka9q-radio/tree/main/docs/rtlsdr.md">rtlsdr</a> - Generic RTL-SDR dongle (VHF/UHF only)<br />
<a class="reference external" href="https://github.com/ka9q/ka9q-radio/tree/main/docs/sig_gen.md">sig_gen</a> - synthetic front end with signal generator (to be documented)</p>
<p>The configuration of each device type is necessarily
hardware-dependent, so separate documents describe the options unique
to each one. Only the parameters common to all of them are described
here. In most cases, the default hardware-specific options need not be changed.</p>
<section id="device-airspy-airspyhf-funcube-rx888-rtlsdr-sig-gen-no-default-required">
<h4>device = {airspy|airspyhf|funcube|rx888|rtlsdr|sig_gen} (no default, required)<a class="headerlink" href="#device-airspy-airspyhf-funcube-rx888-rtlsdr-sig-gen-no-default-required" title="Link to this heading"></a></h4>
<p>Select the front end hardware type. If there is only one such device
on a system, it will automatically be selected. If there’s more than one,
it can usually be selected by serial number.</p>
<p>The funcube does not have serial
numbers so this is not possible.</p>
<p>Support for multiple rx888s (which has serial numbers) is not yet supported.
I don’t recommend more than one per system because of the heavy load they place on the USB controller.
Each rx888 running at full sample rate generates a little over 2 Gb/s of data.x</p>
</section>
<section id="description-no-default-optional-but-recommended">
<h4>description = (no default, optional but recommended)<a class="headerlink" href="#description-no-default-optional-but-recommended" title="Link to this heading"></a></h4>
<p>Gives free-format text that
will be advertised through the <em>radiod</em> program to the
control/status stream and the <em>control</em> program that
listens to it. It will also be advertised in DNS SRV (service
discovery) records by the Linux mDNS daemon <em>avahi</em>, so keep
it short but descriptive.</p>
<p>The sections defining groups of receiver channels are omitted. See <strong>ka9q-radio.md</strong> for details on the options
for those sections.</p>
<p>Multiple instances of <em>radiod</em> can run on the same system, provided each has its own front end (they cannot be shared).
You can have as many as you want, subject to your CPU and USB limits.
The RX888 MkII produces a real flood of bits: over 2Gb/s at a sample rate of 129.6 MHz, which is why it uses USB 3.
While a midrange x86 is enough to handle the processing requirements, they are not exactly insubstantial either so I recommend
only one per host.</p>
<p>In the excerpt above, the <strong>hardware</strong> entry in the [global] section specifies the section containing RX888 configuration
information. (In this example the name of the hardware section happens to be the same as the device type, but it is not essential.)</p>
<p>Only one entry is mandatory: <strong>device</strong>. This specifies the front end hardware type, i.e, “rx888”, which means an RX-888 MkII.
The defaults should be good for most cases, but you can override them as needed.</p>
<p><strong>description</strong> Optional. Free-format text to
advertise through the <em>radiod</em> program on the
control/status stream to the <em>control</em> program that
listens to it. It will also be advertised in DNS SRV (service
discovery) records by the Linux mDNS daemon <em>avahi</em>, so keep
it short but descriptive.</p>
<p><strong>number</strong> Optional, default 0.
Select the index of the RX-888 to use if there’s more than one on the system. Probably won’t do what you want since the multiple
devices are enumerated in undefined order.
It will be possible to select a unit by serial number but this isn’t a high priority because it’s unlikely you’ll have more than one on a system for performance reasons. Nor do I recommend it.</p>
<p><strong>samprate</strong> Integer, default 64,800,000 Hz (64.8 MHz).
Set the A/D sample rate. The RX-888 MkII is actually rated for 130 MHz but several users have had thermal problems so the default is to run it at half speed.
Full rate would be 129600000 (129.6 MHz). This is below the 130 MHz rating of the LTC2208 A/D converter and can be generated by small rational factors from the 27 MHz clock. This
improves phase noise from the Si5351 clock generator.</p>
<p><strong>gain</strong> Decimal, default +1.5 dB.
Set the gain of the AD8370 analog
VGA ahead of the A/D converter. There is no front end AGC in hardware or software (yet) so this
should be set with some care. Choose a value that results in an RMS
A/D output level of -20 to -25 dBFS. I generally use +10 dB and may
make this the default.</p>
<p><strong>att</strong> Decimal, range 0 to 31.5 dB in 0.5 dB steps, default 0.
Set the attenuation of the PE4312 attenuator ahead of the AD8370 variable gain amplifier.</p>
<p><strong>gainmode</strong> String, either “high” or “low”, default “high”.
Set the gain mode of the AD8370 variable gain amplifier. The gains available in the two modes overlap, but even at the same gain the noise figure in “low” mode is considerably higher (worse) than in high mode. Use gainmode=low only if resistance to strong signals (i.e., increasing the IP3) is especially important.</p>
<p><strong>bias</strong> Boolean, default off. Enable the bias tee (preamplifier
power).</p>
<p><strong>calibrate</strong> Decimal, default 0.  Set the clock error fraction for
the built-in 27 MHz sampling clock.  A value of -1e-6 means that the
sample clock frequency is 1 part per million (ppm) low.  The
correction is currently done with an <em><strong>experimental</strong></em> sample
interpolation scheme that corrects both the tuning frequency and the
output sample rate.  It works, but the CPU usage is high and creates
an annoying “chugging” sound in the background noise at low signal
levels (e.g., at upper HF frequencies) that I don’t fully understand.
There are other correction methods (such as simply biasing the tuning
frequency) that use little CPU but this wouldn’t also correct the
output sample rate. So this is purely experimental. If you need a precise
sampling clock, I recommend opening the unit and finding the connector
for an external 27 MHz frequency reference.</p>
<p><strong>firmware</strong> String, default “SDDC_FX3.img”.
Specify the path name of the firmware file to be loaded into the unit at startup. If not absolute it will be relative to /usr/local/share/ka9q-radio.</p>
<p><strong>queuedepth</strong> Integer, default 16.
The number of buffers to be queued up for transfer over the USB. Larger numbers have occasionaly given problems.</p>
<p><strong>reqsize</strong> Integer, default 32.
Set the size of each transfer buffer in internal units, which apparently defaults to 16 KB. reqsize = 32 therefore corresponds to 512KB per buffer, or 8 MB for all 16. This affects latency, but at these high sample rates the effect is minimal (a few milliseconds, compared to the typically 20 ms of latency inside <em>radiod</em> itself.)</p>
<p><strong>dither</strong> Boolean, default no.
Enable the built-in dither feature of the LTC2208 A/D converter. Doesn’t seem necessary given that antenna noise is almost certainly much greater than the quantization
noise floor of this 16 bit A/D. It’s probably exceeded even by the thermal noise of the VGA.</p>
<p><strong>rand</strong> Boolean, default no.
Enable the data randomization feature of the LTC2208 A/D converter and automatically de-randomizes the data after reception. This is supposed to lower spurs resulting from digital-to-analog crosstalk
on the circuit board. The actual benefit hasn’t been measured, but the CPU cost is minimal.</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Rob Robinett.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>