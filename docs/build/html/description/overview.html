

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>wsprdaemon Overview &mdash; wsprdaemon 3.3.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=ad389f6d"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Quick Start Guide" href="../getting_started/quick_start.html" />
    <link rel="prev" title="WSPRDAEMON Documentation" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            wsprdaemon
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">wsprdaemon Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#project-purpose-and-overview">1. Project Purpose and Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#core-functionality">2. Core Functionality</a></li>
<li class="toctree-l2"><a class="reference internal" href="#system-architecture">3. System Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code-organization-and-implementation">4. Code Organization and Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-and-usage">5. Configuration and Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conclusion">6. Conclusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">7. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/quick_start.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_it_works.html">How wsprdaemon Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="validity.html">Validity of Data Path and Results</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation &amp; Setup</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../requirements/os.html">Operating Sytems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements/radios.html">Compatible Radios</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements/network.html">Networking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/preparation.html">Preparing for installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/security_considerations.html">Security Considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/git.html">Download the software with GIT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/git.html#to-install-ka9q-radio-independently">To install ka9q-radio independently:</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Configuration Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../configuration/wd_conf.html">Configuring wsprdaemon: wsprdaemon.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/radiod_conf.html">Configuring ka9q-radio: radiod&#64;.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/ka9q-web.html">ka9q-web</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Operation &amp; Monitoring</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../operation/service_management.html">Service Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operation/monitoring.html">System Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance/operating.html">Operating WD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance/monitoring.html">Monitoring WD operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance/aliases.html">Aliases for monitoring and interacting with WD</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Features &amp; Results</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../results/wspr.html">WSPR spots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../results/grape.html">HamSCI WWV/H and CHU Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../results/psk.html">PSKReporter</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Troubleshooting &amp; Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/overview.html">Troubleshooting wsprdaemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/typicals.html">Some typical problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/diagnostic_tools.html">Diagnostic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples &amp; Advanced Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/common_configurations.html">Common Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/data_flow.html">Data Flow Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/network_security.html">Network Security Architecture</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers/getting_started.html">Developer Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/remote_development.html">Remote Development Setup</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference &amp; Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendices/command_reference.html">Command Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external_links.html">External Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributors.html">Contributors</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">wsprdaemon</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">wsprdaemon Overview</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/description/overview.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="wsprdaemon-overview">
<h1>wsprdaemon Overview<a class="headerlink" href="#wsprdaemon-overview" title="Link to this heading"></a></h1>
<p>This document provides a comprehensive summary of the <code class="docutils literal notranslate"><span class="pre">wsprdaemon</span></code> project, a sophisticated system for receiving, decoding, and reporting Weak Signal Propagation Reporter (WSPR) and FST4W signals. The analysis is based on the content of the official GitHub repository.</p>
<section id="project-purpose-and-overview">
<h2>1. Project Purpose and Overview<a class="headerlink" href="#project-purpose-and-overview" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">wsprdaemon</span></code> is a Linux-based service designed to operate as a reliable, autonomous appliance for amateur radio operators and researchers. Its primary function is to decode WSPR and FST4W spots from one or more Software-Defined Radios (SDRs) and reliably upload them to public databases like wsprnet.org. The project emphasizes high reliability, advanced features, and scientific data collection, going far beyond the capabilities of standard tools like WSJT-X.</p>
<p>As stated in the project’s <code class="docutils literal notranslate"><span class="pre">README.md</span></code>:</p>
<blockquote>
<div><p>Wsprdaemon (WD) runs as a Linux service to decode WSPR and FST4W spots from one or more [Kiwis] and/or RX888 SDRs and <em>reliably</em> post them to [wsprnet.org]. It includes many features not found in WSJT-x, including multiple band and/or multiple receiver support. WD also records additional information about spots like doppler shift and background noise level which permit much deeper understanding of propagation conditions. [1]</p>
</div></blockquote>
<p>The system is notable for its robustness, with features to automatically recover from power and internet outages, caching all gathered data until successful delivery is confirmed. It is a significant contributor to the WSPR network, with the documentation noting that top spotting sites running <code class="docutils literal notranslate"><span class="pre">wsprdaemon</span></code> account for approximately 33% of the millions of spots reported daily.</p>
</section>
<section id="core-functionality">
<h2>2. Core Functionality<a class="headerlink" href="#core-functionality" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">wsprdaemon</span></code> offers a rich feature set tailored for advanced and large-scale WSPR monitoring operations.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Feature</p></th>
<th class="head text-left"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><strong>Multi-Receiver Support</strong></p></td>
<td class="text-left"><p>Can simultaneously process signals from multiple SDRs, such as KiwiSDRs and RX888s.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Spot Merging</strong></p></td>
<td class="text-left"><p>For a given band, it can merge spots from multiple receivers (e.g., different antennas) and report only the one with the best Signal-to-Noise Ratio (SNR).</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>Advanced Scheduling</strong></p></td>
<td class="text-left"><p>Allows users to create complex schedules to switch between different bands at specific times of the day or at times relative to sunrise and sunset. This is particularly useful for receivers with a limited number of channels.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Reliable Uploading</strong></p></td>
<td class="text-left"><p>Caches all decoded spots and associated data locally. It ensures data is delivered to upstream servers (like wsprnet.org) by retrying uploads after network or power interruptions.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>Noise Measurement</strong></p></td>
<td class="text-left"><p>Records background noise levels, allowing for the creation of noise graphs and deeper analysis of band conditions. This data can be uploaded to services like graphs.wsprdaemon.org.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Scientific Data Collection</strong></p></td>
<td class="text-left"><p>Integrates with the HamSCI GRAPE (Great American Radio Propagation Experiment) project by recording and uploading I/Q data of WWV and CHU time-signal broadcasts for ionospheric research.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>Multiple Decode Modes</strong></p></td>
<td class="text-left"><p>Supports various WSPR and FST4W modes, including deep search options (<code class="docutils literal notranslate"><span class="pre">wsprd</span> <span class="pre">-d</span></code>) for enhanced sensitivity.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Daemon-based Operation</strong></p></td>
<td class="text-left"><p>Runs as a collection of background daemons, managed by a central watchdog process, ensuring continuous, unattended operation.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="system-architecture">
<h2>3. System Architecture<a class="headerlink" href="#system-architecture" title="Link to this heading"></a></h2>
<p>The architecture of <code class="docutils literal notranslate"><span class="pre">wsprdaemon</span></code> is modular and heavily based on shell scripting to coordinate a pipeline of tasks. The system is designed as a series of daemons that handle specific stages of the process, from data acquisition to final reporting.</p>
<p>The high-level data flow is as follows:</p>
<ol class="arabic simple">
<li><p><strong>Audio Capture (<code class="docutils literal notranslate"><span class="pre">recording.sh</span></code>):</strong> The process begins with capturing audio (or I/Q data) from the configured SDRs. For KiwiSDRs, it uses <code class="docutils literal notranslate"><span class="pre">kiwirecorder.py</span></code>. For RX888 receivers, it leverages the <code class="docutils literal notranslate"><span class="pre">ka9q-radio</span></code> software suite. The system records audio into precisely timed 2-minute WAV files, synchronized with the global WSPR transmission schedule.</p></li>
<li><p><strong>Signal Decoding (<code class="docutils literal notranslate"><span class="pre">decoding.sh</span></code>):</strong> Once a WAV file is created, a decoding daemon processes it. The core decoding is performed by <code class="docutils literal notranslate"><span class="pre">wsprd</span></code>, a command-line utility from the WSJT-X software suite. <code class="docutils literal notranslate"><span class="pre">wsprdaemon</span></code> can utilize the deep search mode of <code class="docutils literal notranslate"><span class="pre">wsprd</span></code> to maximize the number of decoded spots.</p></li>
<li><p><strong>Data Aggregation and Merging (<code class="docutils literal notranslate"><span class="pre">posting.sh</span></code>):</strong> Decoded spots are passed to a posting daemon. If multiple receivers are monitoring the same band, this stage is responsible for merging the spots and selecting the best one based on SNR.</p></li>
<li><p><strong>Data Uploading (<code class="docutils literal notranslate"><span class="pre">upload-client-utils.sh</span></code>):</strong> The final stage involves formatting the spot data and uploading it to various external services. The system has dedicated logic for posting to wsprnet.org, pskreporter.info, and the project’s own data collection server at wsprdaemon.org, which stores extended information like noise levels.</p></li>
</ol>
<p>This entire process is supervised by a <code class="docutils literal notranslate"><span class="pre">watchdog.sh</span></code> script, which periodically checks the health of all running daemons, manages job schedules, and handles process restarts, ensuring the system’s resilience.</p>
</section>
<section id="code-organization-and-implementation">
<h2>4. Code Organization and Implementation<a class="headerlink" href="#code-organization-and-implementation" title="Link to this heading"></a></h2>
<p>The repository is a large project, comprising over 24,000 lines of code. The implementation is a mix of shell scripts, Python, and C, with each language used for tasks suited to its strengths.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Language</p></th>
<th class="head text-left"><p>Lines of Code (approx.)</p></th>
<th class="head text-left"><p>Primary Role</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><strong>Shell (Bash)</strong></p></td>
<td class="text-left"><p>18,000</p></td>
<td class="text-left"><p><strong>Core Orchestration.</strong> The vast majority of the system’s logic, including the main entry point (<code class="docutils literal notranslate"><span class="pre">wsprdaemon.sh</span></code>), daemon management, scheduling, and the overall processing pipeline, is implemented in a series of interconnected shell scripts.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>Python</strong></p></td>
<td class="text-left"><p>4,000</p></td>
<td class="text-left"><p><strong>Supporting Tools and Server Components.</strong> Python is used for various utility scripts (<code class="docutils literal notranslate"><span class="pre">noise_plot.py</span></code>, <code class="docutils literal notranslate"><span class="pre">wav2grape.py</span></code>) and for the server-side components (<code class="docutils literal notranslate"><span class="pre">wsprdaemon_server.py</span></code>, <code class="docutils literal notranslate"><span class="pre">wsprdaemon_reflector.py</span></code>) that receive data from client installations.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>C</strong></p></td>
<td class="text-left"><p>3,000</p></td>
<td class="text-left"><p><strong>High-Performance Data Capture.</strong> C is used for performance-critical tasks, specifically for recording audio data from SDRs. Files like <code class="docutils literal notranslate"><span class="pre">wd-record.c</span></code> and <code class="docutils literal notranslate"><span class="pre">pcmrecord.c</span></code> are used to capture data from <code class="docutils literal notranslate"><span class="pre">ka9q-radio</span></code> streams efficiently.</p></td>
</tr>
</tbody>
</table>
<p>Key files and directories in the repository include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wsprdaemon.sh</span></code>: The main entry point and command-line interface for the entire system.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*.sh</span></code> files: A large collection of modular shell scripts, each handling a specific part of the system (e.g., <code class="docutils literal notranslate"><span class="pre">decoding.sh</span></code>, <code class="docutils literal notranslate"><span class="pre">recording.sh</span></code>, <code class="docutils literal notranslate"><span class="pre">posting.sh</span></code>, <code class="docutils literal notranslate"><span class="pre">watchdog.sh</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wsprdaemon.conf</span></code> / <code class="docutils literal notranslate"><span class="pre">wd_template.conf</span></code>: The configuration file where users define their station parameters, receivers, and schedules.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">docs/</span></code>: Contains extensive documentation in Markdown format, which is built into a ReadTheDocs website.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ka9q-radio/</span></code>: A git submodule containing the <code class="docutils literal notranslate"><span class="pre">ka9q-radio</span></code> SDR software, which is a key dependency for RX888 support.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*.py</span></code> files: Various Python scripts for tasks like noise analysis, data conversion, and server-side logic.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*.c</span></code> files: C source code for custom data recording tools.</p></li>
</ul>
</section>
<section id="configuration-and-usage">
<h2>5. Configuration and Usage<a class="headerlink" href="#configuration-and-usage" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">wsprdaemon</span></code> is configured via a single file, <code class="docutils literal notranslate"><span class="pre">wsprdaemon.conf</span></code>, which is a shell script that sets various environment variables. The user must define:</p>
<ul class="simple">
<li><p><strong>Reporter Information:</strong> Callsign and grid square (<code class="docutils literal notranslate"><span class="pre">WSPRNET_REPORTER_ID</span></code>, <code class="docutils literal notranslate"><span class="pre">REPORTER_GRID</span></code>).</p></li>
<li><p><strong>Receiver List (<code class="docutils literal notranslate"><span class="pre">RECEIVER_LIST</span></code>):</strong> A list of all SDRs the system will use, including their type, address, and credentials.</p></li>
<li><p><strong>Schedule (<code class="docutils literal notranslate"><span class="pre">WSPR_SCHEDULE</span></code>):</strong> A detailed schedule that tells the system which receiver should listen on which band at what time and with which decoding modes.</p></li>
</ul>
<p>The system is controlled from the command line using the <code class="docutils literal notranslate"><span class="pre">wsprdaemon.sh</span></code> script, which accepts commands to start (<code class="docutils literal notranslate"><span class="pre">-a</span></code>), stop (<code class="docutils literal notranslate"><span class="pre">-z</span></code>), and check the status (<code class="docutils literal notranslate"><span class="pre">-s</span></code>) of the daemons.</p>
<p>The documentation provides a</p>
<p>Quick Start Guide to get users up and running quickly.</p>
</section>
<section id="conclusion">
<h2>6. Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">wsprdaemon</span></code> is a powerful and feature-rich WSPR decoding and reporting system designed for serious hobbyists and scientific users. Its robust, daemon-based architecture, extensive use of shell scripting for orchestration, and support for multiple receivers and advanced scheduling make it a highly flexible and reliable tool. The project is well-documented and actively maintained, serving a critical role in the global WSPR and amateur radio science communities.</p>
</section>
<section id="references">
<h2>7. References<a class="headerlink" href="#references" title="Link to this heading"></a></h2>
<p>[1] <code class="docutils literal notranslate"><span class="pre">wsprdaemon</span></code> GitHub Repository, README.md. <a class="reference external" href="https://github.com/rrobinett/wsprdaemon">https://github.com/rrobinett/wsprdaemon</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="WSPRDAEMON Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../getting_started/quick_start.html" class="btn btn-neutral float-right" title="Quick Start Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Rob Robinett.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>